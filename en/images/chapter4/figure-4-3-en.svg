<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 620 270">
  <style>
    .background { fill: #f8f9fa; }
    .request-box { fill: #f5f5f5; stroke: #999; stroke-width: 1.5; }
    .validate-box { fill: #e6f7ff; stroke: #1890ff; stroke-width: 1.5; }
    .success-box { fill: #f6ffed; stroke: #52c41a; stroke-width: 1.5; }
    .error-box { fill: #fff1f0; stroke: #ff7875; stroke-width: 1.5; }
    .arrow { stroke: #666; stroke-width: 1.5; }
    .arrow-success { stroke: #52c41a; stroke-width: 1.5; }
    .arrow-error { stroke: #ff7875; stroke-width: 1.5; }
    .label { font-family: 'Arial', sans-serif; font-size: 12px; text-anchor: middle; fill: #333; }
    .label-small { font-family: 'Arial', sans-serif; font-size: 11px; text-anchor: middle; fill: #666; }
    .label-mono { font-family: 'Consolas', 'Monaco', monospace; font-size: 11px; text-anchor: middle; fill: #555; }
    .title { font-family: 'Arial', sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; fill: #333; }
    .section-title { font-family: 'Arial', sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; fill: #333; }
    .checkmark { font-family: 'Arial', sans-serif; font-size: 14px; fill: #52c41a; }
    .xmark { font-family: 'Arial', sans-serif; font-size: 14px; fill: #ff7875; }
    .divider { stroke: #d9d9d9; stroke-width: 1; stroke-dasharray: 5,5; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#666" />
    </marker>
    <marker id="arrowhead-success" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#52c41a" />
    </marker>
    <marker id="arrowhead-error" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#ff7875" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="620" height="270" class="background" />

  <!-- Title -->
  <text x="310" y="28" class="title">FastAPI Validates Before Your Code Runs</text>

  <!-- Success path -->
  <text x="310" y="55" class="section-title">Valid input: /users/42</text>

  <rect x="30" y="70" width="130" height="45" rx="4" ry="4" class="request-box" />
  <text x="95" y="97" class="label-mono">GET /users/42</text>

  <line x1="160" y1="92" x2="190" y2="92" class="arrow" marker-end="url(#arrowhead)" />

  <rect x="195" y="70" width="140" height="45" rx="4" ry="4" class="validate-box" />
  <text x="265" y="90" class="label-small">FastAPI checks:</text>
  <text x="265" y="105" class="label-mono">user_id: int</text>

  <line x1="335" y1="92" x2="365" y2="92" class="arrow-success" marker-end="url(#arrowhead-success)" />
  <text x="350" y="82" class="checkmark">✓</text>

  <rect x="370" y="70" width="220" height="45" rx="4" ry="4" class="success-box" />
  <text x="480" y="90" class="label-small">Your function runs:</text>
  <text x="480" y="105" class="label-mono">get_user(user_id=42)</text>

  <!-- Divider -->
  <line x1="30" y1="140" x2="590" y2="140" class="divider" />

  <!-- Error path -->
  <text x="310" y="165" class="section-title">Invalid input: /users/abc</text>

  <rect x="30" y="180" width="130" height="45" rx="4" ry="4" class="request-box" />
  <text x="95" y="207" class="label-mono">GET /users/abc</text>

  <line x1="160" y1="202" x2="190" y2="202" class="arrow" marker-end="url(#arrowhead)" />

  <rect x="195" y="180" width="140" height="45" rx="4" ry="4" class="validate-box" />
  <text x="265" y="200" class="label-small">FastAPI checks:</text>
  <text x="265" y="215" class="label-mono">user_id: int</text>

  <line x1="335" y1="202" x2="365" y2="202" class="arrow-error" marker-end="url(#arrowhead-error)" />
  <text x="350" y="192" class="xmark">✗</text>

  <rect x="370" y="180" width="220" height="45" rx="4" ry="4" class="error-box" />
  <text x="480" y="200" class="label-small">422 Error Response</text>
  <text x="480" y="215" class="label-mono">"not a valid integer"</text>

  <!-- Bottom note -->
  <text x="310" y="255" class="label-small">Your function never runs if validation fails.</text>
</svg>
